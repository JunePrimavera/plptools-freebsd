.\" Manual page for plpbackup
.\" $Id$
.\" CHECKIN $Date$
.\"
.\" Process this file with
.\" groff -man -Tascii plpbackup.1 for ASCII output, or
.\" groff -man -Tps plpbackup.1 for PostScript output
.\"
.TH plpbackup 1 "@MANDATE@" "plptools @VERSION@" local
.SH NAME
plpbackup \- Backup and restore for Psion data.
.SH SYNOPSIS
.B plpbackup
.B [-h]
.B [-v]
.B [-q]
.B [-f]
.BI "[-b [" archivename ]]
.BI "[-r " archivename ]
.B [-F]
.B [-V]
.BI "[-p [" host :] port ]
.BI [ long-options ]
.BI [ drive: "] [" drive: ] ...

.SH DESCRIPTION

plpbackup provides a facility for backup and restore of Psion drives on
your PC. It also can format Psion drives before performing a restore.

.SH OPTIONS

.TP
.B \-h, --help
Display a short help text and exit.
.TP
.B \-v, --verbose
Increase verbosity
.TP
.B \-q, --quiet
Decrease verbosity
.TP
.B \-f, --full
Perform a full backup of the specified drives. If this option
is missing, an incremental backup is done based on the archive bit in the
file attributes on the Psion. Archive bits of backed-up files are cleared
after any successful backup operation.
.TP
.BI "\-b, --backup[=" archivename ]
Select backup mode. This mode and restore mode are mutually exclusive.
If
.I archivename
is missing, plpbackup automatically selects an archive name using the
following scheme:
.BI $HOME/plpbackup/ PsionUID / T \- YYYY \- MM \- DD \- hh \- mm \- ss .tar.gz
, where
.RS
.TP
.I PsionUID
is the Psion's unique machine id. If connected to a Series 3 which does not
provide a machine id, during first backup of that Psion an artificial machine
id is calculated from the contents of the Psion's owner-info. This id is then
written on the Psion's default drive
.B M:
into the file
.BR SYS$PT.CFG .
and used on subsequent operations.
.TP
.I T
is a single character
.BR F " or " I
representing full or incremental respectively.
.TP
.I YYYY
is the current year.
.TP
.I MM
is the current month.
.TP
.I DD
is the current day.
.TP
.I hh
is the current hour.
.TP
.I mm
is the current minute.
.TP
.I mm
is the current second.
.RE
.TP
.BI "\-r, --restore=" archivename
Select restore mode. This mode and backup mode are mutually exclusive.
Before restoring data, plpbackup asks interactively, if you want to
restore individual files or the whole contents of the archive. If you
select individual files, plpbackup extracts a listing of the archive's
contents into a temporary file and starts an editor with this file.
Using the editor, you then can mark the files to restore. The default
editor to be used can be specified in the environment variable
.BR EDITOR .
If this environment variable is not available, the builtin default
.B vi
is used.
.TP
.B \-F, --format
Format specified drives. This option can be combined with restore mode.
.B USE WITH EXTREME CARE!
.TP
.B \-V, --version
Display the version and exit
.TP
.BI "\-p, --port=[" host :] port
Specify the host and port to connect to (e.g. The port where ncpd is
listening on) - by default the host is 127.0.0.1 and the port is looked up
in /etc/services. If it is not found there, a builtin value of @DPORT@ is used.
.TP
.I drive:
The Psion's drive character to be selected for backup or restore. Multiple
drive characters can be specified. In backup mode, this option can be omitted
to have plpbackup scan for all available drives on the Psion.

.SH FILES

.SH SEE ALSO
ncpd(8), plpnfsd(8), plpprintd(8), plpftp(1) and sisinstall(1)

.SH AUTHOR
Fritz Elfert

